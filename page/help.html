<html>
<!--
File:	help.html
Author:	Robert L Walton <walton@acm.org>
Date:	See Date Below
-->
<style>
div.header {
text-align: center;
position: fixed;
top: 0;
right: 0;
}
div.text {
}
div.center {
text-align: center;
}
h1 {
font-size: 20pt;
text-decoration: underline;
}
h2 {
font-size: 18pt;
}
h5 {
font-size: 16pt;
display: inline;
}
table, td, a {
font-size: 16pt;
}
p {
margin-left: 10px;
font-size: 16pt;
}
p.inline {
display: inline;
}
p.list {
margin-left: 20px;
margin-top: 0;
font-size: 16pt;
}
table.top-align td {
vertical-align: top;
}
.indented {
margin-left: 20px;
}
table.extension {
margin-left: 20px;
border-spacing: 20px 0;
}
table.extension td {
vertical-align: top;
}
</style>
<body>
<div class='header'>
<a href="#TOC" title='Go to Table of Contents'>TOC</a>
</div>
<div class='center'>
<h1>Educational Problem Manager<br>(EPM)<h1>
<h2>March 24, 2020</h2>
<br>
<a name="TOC"><h1>Table of Contents</h1></a>
</div>
<div class='text'>
<p>
<ul>

<li><a href="#login-page">Login Page</a><br>
<ul>
<li><a href="#login-email">User Email Address</a><br>
<li><a href="#browser-ticket">Browser Ticket</a><br>
</ul>
<li><a href="#user-page">User Page

<li><a href="#problem-page">Problem Page
<ul>
<li><a href="#problem-names">Problem Names</a><br>
<li><a href="#problem-marks">Problem Marks</a><br>
<li><a href="#current-problem-files">Current Problem Files</a><br>
<li><a href="#file-extensions">File Extensions</a><br>
<li><a href="#problem-commands">Commands Last Executed</a><br>
<li><a href="#problem-working">Working Files of Last Executed Commands</a><br>
</ul>

<li><a href="#run-page">Run Page

<li><a href="#option-page">Option Page
<ul>
<li><a href="#option-values">Option Values</a><br>
<li><a href="#option-arguments">Option Command Arguments</a><br>
<li><a href="#option-templates">Template Commands</a><br>
</ul>

</ul>

</div>
<div class='text'>

<a name="login-page"><h1>Login Page</h1></a>

<p>The <b>login page</b> manages login using email addresses to
identify a user and confirmation numbers to create tickets for
the user in the user's browser.
</p>

<a name="login-email"><h2>User Email Address</h2></a>
<p>
Your <b>email address</b> serves as your account name,
and also as the place to which confirmation numbers
will be sent.
<p>
If you are making a new account, enter an appropriate
email address.
<p>
You can have up to 3 email addresses associated with
your account.  Its a good idea to have at least 2,
in case one is not working when you need it.
<p>
An account is on an <a name='EPM-server'><b>EPM server</b></a>.
EPM servers are named
by the document root URL used to access them, and EPM servers with
different names are independent of each other (even
if they are running on the same computer).
</p>

<a name="browser-ticket"><h2>Browser Ticket</h2></a>
<p>
A browser <b>ticket</b> is stored in the browser local memory
and enables a user to log in by giving only the email
address associated with ticket.  There is a separate
ticket for each <a href='#EPM-server'>EPM server</a>,
each email address of an account on that server, and each browser.
<p>
A ticket is created using a
<a name='confirmation-number'><b>confirmation number</b></a> sent to
the email address by the EPM server and copied from the email
into the browser by the user.  A ticket
expires after a certain interval: 2 days for the first ticket,
7 days for the second ticket, and 30 days for each
ticket thereafter.  In counting tickets, only <b>expired tickets</b>
are counted, so if you keep getting tickets before the previous
one expires, all your tickets will expire in the same number of days.
<p>
A confirmation number is only used during ticket creation, and
cannot be used to create more than one ticket.  It is not saved
by the EPM server or browser.
<p>
The `<b>Get New Ticket</b>' button removes the ticket for the
entered email address and <a href='#EPM-server'>EPM server name</a>
from the browser and returns to the initial
login page.
<p>
The `<b>Delete All Tickets</b>' button removes the <u>all</u>
tickets for the current EPM server from the browser and returns
to the initial login page.
</p>

<a name="user-page"><h1>User Page</h1></a>

<p>
To be an EPM user you must supply the following information which
appears on the user page.

<p class='indented'>
<mark>WARNING: All this information is PUBLIC in that it is
	       available to other users of the same EPM
	       server,
               except that email addresses will be abridged
	       when published by replacing characters
	       in them by dot(.) to prevent use by
	       unsophisticated robots.</mark>

<ul style='list-style-type:none'>
<li><h5>User ID</h5>:<p class='list'>
A short name by which you will be known.
Must consist of letters, digits, underline(_), and dash(-),
begin and end with a letter, and have at least 4 characters.
<li><h5>Full Name</h5>:<p class='list'>
Your full name, so that you can be looked up on the web.
<li><h5>Organization</h5>:<p class='list'>
The organization you are associated with, so you can be
looked up in the context of this organization.
Can be `Self', but only if you really have no organization.
<li><h5>Location</h5>:<p class='list'>
The location of your organization, e.g., town, state, and
country.
<li><h5>Email Addresses</h5>:<p class='list'>
You must have one or more email addresses associated with
your account.  You use these to log into the account.
It is well to have two or more, in case you lose access to
one of them.
</ul>
</p>


<a name="problem-page"><h1>Problem Page</h1></a>

<p>
At any given time you need to have a <b>current problem</b> you are working on.
The <b>problem page</b> allows you to create problems, select an
existing problem, and manage the current problem.
</p>


<a name="problem-names"><h2>Problem Names</h2></a>
<p>
A <a name='problem-name'><b>problem name</b></a>
can contain only letters, digits, and the
special characters dash(<pre.inline>-</pre>) and
underline(<pre.inline>_</pre>).
In addition, it must begin and end with a letter.
</p>

<a name="problem-marks"><h2>Problem Marks</h2></a>
<p>
On the problem page:
<table style='margin-left:20px' class='top-align'>
<tr><td>&darr;</td><td>means `show below'</td></tr>
<tr><td>&uarr;</td><td>means `hide'</td></tr>
<tr><td>&Chi;</td><td>means `mark for deletion';
deletion does not occur until you `Delete Marked Files'
or upload or make a new file</td></tr>
<tr><td>+</td><td>means `remove deletion mark'</td></tr>
<tr><td>&rArr;</td><td>means `make a new file with given extension from the file named on the same line'</td></tr>
</table>
</p>

<a name="current-problem-files"><h2>Current Problem Files</h2></a>
<p>
The <b>current problem files</b> are the files that you have uploaded
or created for the problem.  These files are stored in the problem
directory and can be viewed, used, or deleted.  They are displayed
in the `Current Problem File' table, one line per file.
<p>
Current problem <a name='file-names'><b>file names</b></a> must have particular
<a href='#file-extensions'>extensions</a> that specify their role within
the problem.  The rest of a file name can contain
only letters, digits, and the special characters dash(<pre.inline>-</pre>) and
underline(<pre.inline>_</pre>), must begin with a letter, and must
end with the <a href='#problem-name'>problem name</a>, which if it is
preceded by anything must be preceded by a
dash(<pre.inline>-</pre>).
<p>
Clicking on a file name, if it is a button,
will show the file with line numbers
in a separate window.
<p>
Clicking on &darr; will show the file below.
<p>
Files that are a single short line cannot be shown but their contents
are displayed in <pre.inline>{ }</pre> brackets at the end of the
file's line.
<p>
Empty files and binary files cannot be shown but their nature is
displayed at the end of the file's line.
<p>
Displayable files must be encoded in UTF-8 or PDF.
PDF files can only be displayed by clicking on the file name.
A UTF-8 file that is displayable has its number of lines indicated
at the end of the file's line.
Only if this number of lines is small enough does the file have
a &darr; that permits the file to be displayed below.
</p>

<a name="file-extensions"><h2>File Extensions</h2></a>
<p>
EPM files have <b>extensions</b> that indicate their format
and purpose.  In the following PPPP denotes the problem name
and XXXX denotes some other part of the name: for example,
the name XXXX-PPPP.in matches the name `00-001-reverser.in'
if XXXX is 00-001 and PPPP is `reverser'.


<!-- &#8209; is no-breaking hyphen -->
<div class='indented'>
<h5>Files That Are Uploaded:</h5><br>
<table class='extension'>
<tr><td>PPPP.c</td><td>C Program Source File</td></tr>
<tr><td>PPPP.cc</td><td>C++ Program Source File</td></tr>
<tr><td>PPPP.py</td><td>PYTHON Program Source File</td></tr>
<tr><td>PPPP.java</td><td>JAVA Program Source File</td></tr>
<tr><td>PPPP.tex</td><td>LATEX Document Source File</td></tr>
<tr><td>XXXX&#8209;PPPP.in</td><td>Solution Input File</td></tr>
<tr><td>XXXX&#8209;PPPP.run</td><td>List of .in Files</td></tr>
</table>
<br>
<h5>Files Made During Upload:</h5><br>
<table class='extension'>
<tr><td>PPPP</td><td>C/C++ Program Binary File,
                     made from PPPP.c or PPPP.cc file</td></tr>
<tr><td>PPPP.pyc</td><td>PYTHON Program Binary File,
                     made from PPPP.py file</td></tr>
<tr><td>PPPP.class</td><td>JAVA Program Binary File,
                     made from PPPP.java file</td></tr>
<tr><td>PPPP.pdf</td><td>Document PDF File,
                     made from PPPP.tex file</td></tr>
<tr><td>PPPP.tout</td><td>LATEX output file listing errors,
                     some just informative,
                     made from PPPP.tex file</td></tr>
<tr><td>XXXX&#8209;PPPP.sout</td><td>Solution Output File,
                     made from XXXX&#8209;PPPP.in file
		     by generate program and compiled solution
		     </td></tr>
</table>
<br>
<h5>Files Made From Other Files (Not During Upload):</h5><br>
<table class='extension'>
<tr><td>XXXX&#8209;PPPP.sin</td><td>Solution Input File,
                     made from XXXX&#8209;PPPP.in file
		     by generate program</td></tr>
<tr><td>XXXX&#8209;PPPP.sout</td><td>Solution Output File,
                     made from XXXX&#8209;PPPP.in file
		     by generate program and compiled solution
		     </td></tr>
<tr><td>XXXX&#8209;PPPP.dout</td><td>Debugging Output File,
                     made from XXXX&#8209;PPPP.sin file
		     by the compiled solution; designed to
		     identify the line number of the statement where
		     a CPU time limit signal or program fault
		     occurred
		     </td></tr>
<tr><td>XXXX&#8209;PPPP.fout</td><td>Filtered Solution Output File,
                     made from XXXX&#8209;PPPP.sout file
		     by filter program
		     </td></tr>
<tr><td>XXXX&#8209;PPPP.ftest</td><td>Filtered Solution Test File,
                     made from XXXX&#8209;PPPP.fout file
		     by simple copying (WARNING: affects scoring)
		     </td></tr>
<tr><td>XXXX&#8209;PPPP.score</td><td>Scoring Output File,
                     made from XXXX&#8209;PPPP.fout
                     and XXXX&#8209;PPPP.ftest files
		     by scoring program, or
                     made from XXXX&#8209;PPPP.sout
                     and XXXX&#8209;PPPP.ftest files
		     by filter and scoring programs, or
                     made from XXXX&#8209;PPPP.in
                     and XXXX&#8209;PPPP.ftest files
		     by generate, solution, filter
		     and scoring programs
		     </td></tr>
<tr><td>XXXX&#8209;PPPP.rout</td><td>Run output file,
                     made from XXXX&#8209;PPPP.run
		     and other files by the scoring and other
		     programs,
		     that summarizes .score files made from
		     .in files listed in the .run file
		     </td></tr>
</table>
<br>
<h5>Working Files That Should Be Empty:</h5><br>
<table class='extension'>
<tr><td>PPPP.cout</td>
    <td>Compiler Output File, made during upload or
        debug compilation</td></tr>
<tr><td>PPPP.cerr</td>
                 <td>Error Output from compilation
		     during upload or debug compilation</td></tr>
<tr><td>PPPP.terr</td><td>Error Output from LATEX
		     during upload</td></tr>
<tr><td>XXXX&#8209;PPPP.gYerr</td><td>Error Output from
		     generate program (if generate program
		     is run twice Y is 1 or 2, else Y is
		     missing)</td></tr>
<tr><td>XXXX&#8209;PPPP.ferr</td><td>Error Output from
		     filter program</td></tr>
<tr><td>XXXX&#8209;PPPP.serr</td><td>Error Output from
		     solution program</td></tr>
<tr><td>XXXX&#8209;PPPP.scerr</td><td>Error Output from
		     epm_score scoring program</td></tr>
<tr><td>XXXX&#8209;PPPP.rerr</td><td>Error Output from
		     a run</td></tr>
</table>
<br>
<h5>Working Files That Are Not Empty:</h5><br>
<table class='extension'>
<tr><td>PPPP.log</td><td>Log file of a LATEX compilation,
                         made from PPPP.tex file; like .tout
			 file but with extra information</td></tr>
<tr><td>PPPP.fls</td><td>File List that lists all input and
                         output files in a LATEX compilation,
                         made from PPPP.tex file</td></tr>
</table>

</div>
</p>
<a name="problem-commands"><h2>Commands Last Executed</h2></a>
<p>
This section displays the UNIX/POSIX/LINUX commands last executed
to make a file, and if any files output by these commands are
kept in the problem directory, a list of kept files is also displayed.
<p>
Included is the CPU execution time in 0.001 second units of some of the
command lines.
<p>
If a command line fails, this is indicated along with a failure
message (but not for debugging runs that make .dout files which
contain their own failure messages, if any).
</p>

<a name="problem-working"><h2>Working Files of Last Executed Commands</h2></a>
<p>
This section lists the files made by the last executed commands
which were <u>not</u> kept.  These files can be displayed in the
same manner as the files in the files in the
<a href="#current-problem-files">Current Problem Files</a>
section.
<p>
Files that are kept on successful uploads or makes will
remain as (usually non-empty)
working files on unsuccessful uploads or makes.
<p>
Working files are deleted when a new set of commands is executed
or when a .run file is run.
</p>

<a name="run-page"><h1>Run Page</h1></a>
<p>
If you click a <b>Run</b> button on the problem page, the associated
.run file will be run and the page will switch to the Run Page where
the results will be displayed.
<p>
The Run Page lists all the .run files in a table, one file per line.
For the last run of a particular .run file,
the associated run output, or .rout file,
and if non-empty the run error, or .rerr
file, are also listed and can be displayed with the &darr; button.
<p>
A .rout run output file gives the `Score' for the run, and if not
`Completely Correct', gives the name of the first failed test case.
Also given are the CPU execution times for the various input files: here
the `s:' time is the solution time, the `g1:' and `g2:' times are the
times for the two generate program executions, and the `f:' time is
the time for the filter program execution.  The maximum of these
times over all input files is given at the end of the .rout file.
</p>

<a name="option-page"><h1>Option Page</h1></a>

<p>The <b>Option Page</b> shows the options given to
commands that perform compilations and computations,
and allows you to edit these within limits.
<p>
For example, the allowed maximum size of the virtual memory
when a problem solution program is executing is an
option, as is the allowed maximum size of any file output
by the solution.
<p>
There are two kinds of options: <a href='#option-numbers'>numbers</a>
and <a href='#option-arguments'>arguments</a>.  Numbers are substituted
into arguments, and arguments are substituted into the commands
used to make one file from another file.
These commands are specified by templates, which  can be
displayed by clicking the `Show Templates' button to display
the <a href='#template-page'>Template Page</a> in a separate window.
<p>
There are two values for each option: an <b>inherited value</b>
and a <b>local value</b>.  The inherited value is set by
the <a href='#ancestors'><b>ancestors</b></a> of the current problem,
and cannot be changed (without changing the options files in the
ancestors).  The local value, when given, replaces the inherited value.
In displays, local values are colored green and inherited values
are colored tan.
<p>
As with other pages, clicking on a &uarr; will hide a section
of the page and clicking on a &darr; will display the section.
<p>
You can switch back and forth between just viewing options and
editing them by clicking buttons at the top of the Option Page.
When editing you can also reset all options to their inherited
values.
</p>

<a name="option-numbers"><h2>Number Options</h2></a>
<p>
<b>Number options</b> are numbers included in argument
options.  For example, the STIME option value is the maximum number of
CPU seconds allowed a problem solution program.
<p>
If you edit an inherited number option, its value will
turn green, even if you input the same value as the inherited
value.  Clicking the &#8635; symbol after the value will restore
the value to the inherited value (and restore the color to tan).
</p>

<a name="option-arguments"><h2>Argument Options</h2></a>
<p>
<b>Argument options</b> are the arguments that
are inserted into <a href='#template-page'>template commands</a>.
For each such option there
are discrete choices (for some argument options there is no
choice and the single value is `required').
<p>
<a href='#option-numbers'>Option numbers</a>
are inserted into argument options.  For example,
the STIME number option is inserted into the
`-cputime STIME' value of the SSTIME argument option.
The SSTIME argument in turn is
inserted into the template command that runs the solution program,
so that the options work together with the command to determine
the maximum number of CPU seconds
allowed the solution program.
<p>
The absence of any value for an option command argument is represented by
an empty box.
If there are two colored boxes, the
one colored green is the current value and is local, and the one
colored tan is inherited.
If only one box is colored,
the option value is inherited, even if the box is colored green
(it is green because you have clicked on the inherited value).
</p>

<a name="template-page"><h1>Template Page</h1></a>
<p>
A <b>Template</b> supplied the commands used to make one
file from another file.
Templates can be displayed in a separate
window by clicking the `Show Templates' button on
the <a href='#option-page'>Option Page</a>.
<p>
An index of all the available templates is displayed at the top
of the page.  Clicking on the button next to a template name
displays or hides the relevant contents of the template.
<p>
The commands displayed for a template are executed when the
template is used.  There contain argument names substituted 
from the <a href='#option-arguments'>argument options</a>.
In addition to argument option substitutions, the problem
name is substituted for PPPP, and the reminder of the file names
is substituted for other sequences of 4 consecutive capital
letters, such as XXXX or YYYY.
<p>
The template selected for a particular
task is controlled by the extensions of the input and output
files, but also by what other files are available.  For example,
several tempates are available to make a .score file with
a score from a .in file with solution input.  One of these
is selected if there is a binary file with no extension
(for C or C++);
another is selected if there is a binary file with the .class
extension (for JAVA); and a third is selected if there is a binary
file with the .py extension (for PYTHON).
The various binary files which required to use the various
templates, and are call <b>required files</b> of the template.
<p>
Some required files may be <b>creatable</b>.  There are automatically
created from defaults if they do not exist.  For example, the
generate_PPPP program will be created from a default that does
nothing but strip comments from a .in file to make a .sin file.
<p>
Some required files are required to be <b>local</b>, that is, not
in an ancestor of the current problem.  Others are required to be
<b>remote</b>, that is, they <u>must</u> be in an ancestor of the
current problem.  Lastly may required files can be either local or
remote.  When a creatable file is created, it is always created
locally, so it must not be a remote required file.
<p>
In addition the template selected is controlled by <b>conditions</b>.
For example, to be used during the upload of a PPPP.cc file, a
template must have the `UPLOAD PPPP.cc' condition.
Most of the time only templates with no conditions are selected.
</p>

</div>
</body>
</html>
